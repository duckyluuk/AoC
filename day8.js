let inputData = `eb cbgfae cabdf fedab efb adgcef cbgaefd egdb dbgefa eafgd | dfbae be gdafe gcefab\nbfcae acegfd dbfac daf bgfdc dfgaceb gfebdc da dbag cdgbaf | bgfdc dfcba bdegfc efadcg\nafgdb dcge ed dfe geafcd aefdcb adgef gfcea gdbecfa agfceb | dfe ceabdf efbcag gefacd\nebad gbfed dfe caefdbg gdbcf fgcdae de fdgabe efbag gabecf | gacfed bgedf dfebgac befga\ndabegfc gfeab gdefbc ecagdb bcfd fd ecdgb adgfec bfdge dgf | efbag egbdf ceagfd dfegb\nbfadge dbgec fgbdce cafbgde gbe gcbafd cfbe be cgbdf aedcg | bcdeg egacd beg cgedb\naecfgd dabcegf gca dbgacf gc degbaf caged gefc adebc agfed | agc gc cg fdgaebc\nbeagfc ecf agdecbf cf acfd dgace deafgc efbgd gdfce gadbce | decfbga dbaceg bfgde gdecfa\ncgbef dafeg fdc gbadfc cbed aedbcgf cd bfagce fcgde efgcdb | gefcd fgacbd cd bfegdc\nbce efdcbg ebgfda cbfgae bdegc ce dfec dbefg cgadb edcfgab | cfaebgd bedgc cfed efcd\ngedcfba cfbdg dgecf bafdcg efbgda cbed efd bcfged de afegc | bfcdg agefc fabdgec fegca\nfa dgcef gfacd bdgac fcbegd fedcga adef fcgaebd afbgec acf | gefdac egfcbda egfdc gefdca\nebcgf dagbc cfedga cfgba afg agebfc befa dcfgaeb af edbgcf | cbgefd acdgb afdgce fabe\ngfe fg fdageb bgfd cagfde abegf baecf daegb cabged cgfdeba | gfe gdafbce fg bgdf\nbagdce acfbd faebcgd dae fecdbg ageb ae dbcae defacg gedcb | dea eabg bcdae aecdb\ngceaf dagc eda febcagd gebdaf ecafdg deacf ad cdebf abgcef | fdaec fdebc dcfae ade\nadebcfg ecd ecbag bgaecf cgdfb afecdb gbedc caedbg aegd ed | bedcag gabecf dcgfb fcabed\nfbecda cabgf dg deag cdeagf gdf begcdfa acfed cfagd dcegfb | dg edcfa gefdbc gdea\ngfbcad dafbge fdcbea dgbfa dbeag eb eba eadcg bgef edgfcab | agbed degafb eagdb caedg\naegbdc fecdgb eac cgefab fecag abcf ca dbgeafc gebcf fedga | fbgecad abfc cgefba agcef\ndc fcda gadbec fabcgde gbcfda dcg befcg deabfg bgdcf fgdba | cdfa acfdebg fgadbe ecfbg\ncdbagf gcf badgc fgdac fc cbgead fbcd defga ecagbf gdbafce | gfabdc bdcf gcdab fdcb\ncfdabe faedc febcg acbd abf cdagfe ebdgcaf bdgfea ba beafc | fab bafdce dacbfe fab\neag cfedba aecgdfb deafgb agcdb gefc eg gdeafc ecadg cedfa | fedabc gbadc bacdg gecad\nfgcae afbdec cad edfab cedfa cdfb bdceag bfdeag fdgecba dc | ecagf dc fdecab cdaef\nfcegbd dagefb dbf cgfbd eafcdg dbagc cfdeg gecbafd fb efcb | bf efcgd gdcef gbfedc\ndgbcfe dagef fcbadg fdceg efbc edgbfca deabgc ec cbdfg gec | feagd dbafgec fdgcb bdgaecf\nfgbcd dagcef fb begfac cbdge bcf gacfd gafbdc gbfadce adfb | bfc bcdgf deagcf fgdbc\ngafdbe gefba bf gbdaec faecg bcgfead bgdf efb acfbde gdeba | becagd bf bdfg fb\naf agdcfbe aegfbc agdf dfbce acdbf fab edabgc cdabg gdbafc | dagf fa bdfce bfgdca\nedfgba edbgf afb beadc gbcdfae dfga afgceb af edbaf gefbcd | efgcba ebagdf dbgfe fa\nfecba df dbf dcefgba dgaf aefbd decbgf bcdeag begad deafbg | acbedg degabc fdebcg deabg\ncgabedf abd daebgf gbde db bdaefc fecgad cagfb gabdf edfga | gabfc cgbaf beagcdf cafdge\nefdgb fbe adcbfe edfbga cafgbde gefdca be eagb gbfdc geafd | eb eabg bega abfgde\ncfadg bfeacg gae ecdfga dgcea fabdcg efgbacd aecbd ge fedg | adcgef fdgaec gdface gcfadb\ngabd fcdbag cagfbe deafgc dcbaf ad bdefc dca dcbefag bcagf | facdb gceadf dagb bcafg\nadc eabfcd ecbgad dfab bedfc edcfa ecafg fecbdg fdaebgc ad | cadebf egcaf gaecf febdc\ngfdab cd agcbef cedf ecabdf ebacf febdgca dbcgea fbdca dcb | fabdc fcbdae acebf dc\nbagcd gdabfc dcg fgecdb dc dfcbaeg cbage dfgba dcfa dfbega | dc egbfcad gfdba dgc\ndeb beacd cdbga gbdfce cegfbda abgced be dacfbg agbe cfeda | gfbcad deb ebd cgadeb\nefbag gbe gbaefc adbefcg gb bacg efbacd edafg bgdfec abcfe | bacg gfead dfeag dbfgce\ngdbfea dacgfb dacbfge fgceb cd afedb efcdba bcfed cdb ecad | gdfacb bdgfea ecgbf ecda\ncaedbf dcge abgdc gcfbae fcdbgae bcg abcedg bgdfa cg decba | acdgbe cg gbc ecfdabg\nadfce bdefga acdgfeb fadeg gecdba gebf bfcagd afg ebdga fg | bdage fg edafbg fgadbe\ngfbdec cabdf dca fgca gbcdf ca fbaed cagbdf fagbced eadgcb | ac badecg afbde bcdfeg\ngdc agbed adbgc abgfc eabgfcd acfd dc gecfdb cfeagb gcafbd | fdac beadg gcafbd cdabg\ncf ecgfadb ecabdg begcaf bfadc fabdgc dbacg cgdf bfade cfb | dafbc cadgb becfdag cbf\nfda abgfe gcadbf cdae egfcad bfedcg gcfed ad dfega fgdeacb | cgdef efcbgda fbgdeca eacd\nef ebfcad dceag acgbdf fec bagfedc fbeg ecgdf ebdfcg bfgcd | efcgd bgef fdcgb gfcbd\ngadbecf bdgcea fb bafedg bfcdag bdfc aefgc dabgc facgb baf | abf adfebg fba bdagc\nafgceb dfcba cdeb gafdecb bcf edfcba bc aedfc fdbga fcaedg | fbedgca efcgda ebacfg deabcf\ngefbcad cgfbd cagdf dfa fa gdaefb fabc cefdgb aedgc gbcdfa | deafbg caegd ebfadcg dfa\nbfced gdabfc dbeac afgdce fegb dfgcaeb egdbcf fce fe dbfcg | bfdce cdegfa acdegf befdc\nedb befcda fabcd ed adbce cfbaegd fbcgad cedf gcaeb agebdf | fegdab bed fgaecdb afdecb\nfbea gebdac gbdea fbeagd gdfab fa dfa adfcegb aecfdg bgcdf | faebdg cfbdgea dbcgf adbgf\neac cgabef aebgf cgbde dfebcag efadbc aegbc daefbg facg ca | fcag eabfcg cae cgbde\nce fce gdefb geca dcfeg afdcg gfcdea ecabgdf gbfdac cedafb | gcefd fcdage gdacf gefcd\nfbdcgea fabcg ebafg gfecab fge gebc bdfcag debaf eg fgdeca | acgfb bacfg cgbfa gfbea\nacdeb gcedba befac bacdgef gfbec fbdeca afc fdceag fa dabf | baegdc gecfb dgfeca bafcdge\ndfgbc deagfcb cfga dabgc fagbed cfbgda bfedcg ag abg adceb | gdfceba cgdab dbcea ga\necafbg ge feg cadef decfabg begd geafd dfgacb gfdaeb gbafd | dacef ge gef faedg\ngabecd ecdag edabc fdcbgae ebdafc bcdg gbadef dg cfage edg | cgbade cbgd cgdb edfbgca\nbeca bgead fbecgd fbagcde cb gbc egfdab dgfac dgbac eabcgd | gaebd dcafg dbgefca abec\nbcfea ead cebda fbdcge dgabce gedbc fcdage da dcafebg badg | cbged aegfcd dbag agdb\ncefagd gfbedc fagc acedb efc aefbdg afcde fc gafed febgdac | feabdg ceafgd eacfdg feagdc\ndbegfa aefdcbg bafecd cd cfaged bfade febdc adcb dcf cfbge | cd badfe dbca bdgfae\ndcfa eaf aedgfc aecgbfd efcag fa edabfg fegdbc cgedf agbec | ceagb cfbdeg gabedf fa\ndb eadgbf dagfc gbefdc egbcaf bdegafc debc fbd bcdgf fegcb | gfcedb ebdc eagbfd ecbd\ncb cgbafde dcfegb cdfgae facb bcg degab gefacb caefg cgbea | degba bfgedc egacb egcfa\ngbcfd dabgfe abecfgd beagcf cg gcad bgadf fdecb bafdgc gbc | abegdf dagfeb cdebf gcbdf\nbfaedc deabgf aecbf fgcba ec bdefacg aedc fcbgde dbafe bce | gfcdbea fbdae bdcaef ec\nbedafgc dgcbfa ebc afgcb cfade geba debfcg cgfbea ceabf eb | faedc ebga bega baeg\ndfeag acegd cae bgdca gdefab ec cefd cadgefb eadfcg fabcge | faecgb gedaf eca aec\nabgf cgebdfa dfcab adcfg cdbgaf bdcefg efcdga dfb bf abecd | gfeadc baecd gcdeaf bfegdc\ncbgde egfadc dafec abdf cba ba afgecb bdeac aedbcf adecfbg | eadfc debcg abc ba\necdfgb adecgf fcged cbef bdceagf bde adgbc cbgde gbfead eb | agdcef dfabge eb cedfag\ndgb bg dgfaec efadg bedag afbg bagfdce bfcegd edabc agebfd | befdga dgbea dceab ebadg\ncfbe agedb bcg acefg acegfdb bgafec aecbg gafced abgfcd cb | cgbadf adfgcb gfacbed cdeagf\ngadfc bag acgdbf abfgce bfgda fedcag dfcegab gb fdeba gdbc | bcfgae febad bg bag\ncbaef fgea gabfdc fac cegdba ecabg fdebc ceagfdb af gaefbc | gfcbad dbcage cbaef fca\nbace bdcfe bfgedc afb cabdfe ab aegdf befad agecbfd dfcgab | ab cebgfd bace fdgbeac\nagfb bgcad edgca becfda cabfgd gefdcb ba cabdgef bcdfg bad | cdabg daceg bda bgfdc\ncbefad gcfbade bdcgf edcaf gad acfegd dfeagb ga gcea cdagf | gda ag agd ga\nagc adgec ca cgdfe bfdcaeg cdfbge cedfga edagb acbgef facd | abgde bdfcaeg gdabe gca\negcda degcb fabcgde fgaebd be gfdeac ecab bde gfcdb edgbac | dbe afgbde ecab deb\ndefbga bceg cabgef cadgbef agefb dfgcba becaf dceaf bc cba | gaebf cafeb bc dfacgb\nbedag bdfcea dfbacg efdg ebcga abedfcg dg aefbd gbdfae bdg | caebg degbcaf gbcfda efadb\neb bacdf bde bega gdfaec daecg dafcbge acdbge cdabe ecdfgb | agecd eb edb bde\ngabcd dcafbe edacgb badce gdcefba fgabc dcbgfe dg dage dgb | dg ceafgdb dfgbec ceadbg\nacedb geadcb cafd edf fdcegb dbfae dfcabe fd agfdbce agbfe | adfbe dcbaef dcaf eagfb\ndgfb daebcf gaced dab ecgbfad eabfgc db gabedf fgeba agbed | bd bd acedfb fcdbega\ndaebf befdac gf bdecfag egfb gabefd adfgbc fgeda fgd cdage | agedc fg fdbeac defcab\nbcgda egbdac bgf dgbface cagbdf afcb fb ecfdgb edgfa gadbf | fbcegd egcbfd adgfcb dgbaec\nde ebcfa dec bacegdf afdbec ecgbaf fcaed cafgd bfde cedabg | cdeagb cfgabde fbed bgedfca\ncdgbf cgedbf cdef baceg ef dfbacg bef egbcf dfeagb bafgcde | gbfce fbdcag fcabgd ef\nfbac efbdga gebdc fc bfegc bgcfead dfcega baecfg afgeb cgf | adcgbef abcgef fcg bacf\neagdbf de bacfgd abfce dfgab dfabe cfegda bedg fde cebagdf | dfgace cfgdba degb bged\ncefabg bcfgd decbg fdcgeab cdbae ceg bgefcd efgd eg cfgdab | bfgdc fbdcga gce adecb\necgabd ebgd gdc fdaegc dbcaf fcegdab acgeb agdcb eabfgc gd | gdbafec efacbdg bgeafc dfacb\negbfac abg fgeca fgaedc dbfeg cbae acbfgd gefab ba bfcdgea | gab ab efbgca aecbfdg\neadgcfb ge aegbd cedagf dagfb feabcd abcged dbeca cegb egd | debca fadcbe baedg ge\ncagfeb edabc gd gfdabe cdfg degcfab bgcfa dgbacf gbcda dgb | gd bfeacg afedgb dbaec\nba bfad febcg decafg fdeac fdgcabe bca abdefc gacbde bcefa | badgce cba eacbf bcafe\nac cedfa bdecgf dgfea fgbdac dfgabce abce edcfb caefbd fac | gafcbd ecfgbd fbgcde faegd\nbf eafcd caebg fgcb dcfbaeg abf bfaegd cbeagd baefgc acefb | gdbcefa cbeag fab bfa\ngcb ebcgd cfdbaeg dafcge cedfg dgfbce badec begf gb cbgdfa | fgaebdc gbdce gbfe afdcbg\ngfbdc dac bdeagf daebcf gecdaf fcgad geca ca gafed fbcdgae | bafcde dgbfc adebcf gcadf\necbgaf cadefb ec debc bgcdaef ace ecafd egdfba aedbf facgd | ec eca efcagb bfaed\naef fbad ebacg afceb af fedcbg bfced cgadfbe fcbade gaecdf | bgcdef abgce efdbcg aebcg\ncafbde ba cabf agfed ecfbd gfebdac dbeagc abe cbgedf fdbae | abe gdaceb eba bea\ncbdfg ebg edagf be caegbd cbdgfae fgebd cefb cebgdf cbdgfa | bedgca be fbdcge edabcfg\nebga cbdafg cafgebd eb aedgbf ecfgbd fcaed eafbd bed adgfb | caefd bfdga dcfea cdgabf\nefgdbac ab dgcfb abg afedg faeb dbegfa dacegf bdagf dagcbe | fbcgd gacbdfe cdbgf ab\nga dbfca acge edfgab gab agfcb cabfge bfdcge dgfeacb efgcb | ag fbecg ag bfcgea\nfdcgbe bad cfbga ceadfb bdeacg bdafc ebdcgaf bcefd da afde | gefdbc daef fade afcdb\ndcagbf cbgef abg ab feagd beagcf cfbegd cbae fegab gdbeacf | gba ebgfa ab fecdgb\ncdbge aefcdb febca feadgb eagdbfc ecbgf gafc gbf ebacfg fg | gf gefbad gf dbecafg\ndgb efdgab becfga aebgc gd cgde cebagd bagcd cebdgaf afbdc | agcbd dg gbd gdec\ndcafebg ebdga degc ecgabd bge dfcgab efabgc feadb gadbc ge | badcg acgedb adebf badge\naegbfdc fa fagebd dfeac fae eadcgb edgfc bcfa abefcd bdace | fbca ecdbfa agecdfb dcfae\ngbdcea gcfa ecdafbg bagfe bgc ecfdb gecbf fgaedb abfgce cg | dbafge bgaefd edcbf faebg\ncfdegab dbgcfa ebf fe fcaeb fecdba cbage abcfd gfbead cefd | fcbea ef fe bceaf\ndfebga fde bgfd fd gdcbea cebafd dgabe fegad cdeagfb acfge | fgeca cdeabg gdceab fd\nfgeda fcdegb gdbaef dbfcega fad acfeg fgabdc baed da dgfeb | gdefa afd acfge efgbd\ndaecbg ace abcgfd dcbegfa efcag dafe ae cbegf gfcda agedcf | aedbgc gacef gadfce egfcb\ndfacb egdac daecgb ceb be begafc edgb cadebfg edcba egfcad | abcegd cfdbage acbdf aegcfbd\ncdfae afgced dbgac fcebad gfdbea badcf fb adcfebg cbef bfd | bafgde begfad bgcda aebfcd\ngace eabdgf gcedf gfaedc efbdc edg ge gacbfed dfcga cfgbda | acge eg dfceg gefbad\nabdcf bdegfa bgedfca ce geafd dfeagc edc aedfc fegc gacdbe | dcfaeg ecd cde aegfbd\negdbcf agdfbc gacdebf dec gdcfb gebda ec dafebc cgfe dcegb | cfbeadg efgdbc gcebfd ecd\ndafge acefg ecgb cfagdb ebfcagd cgfab ec ecf aedcfb acbefg | becg ec gecbaf adfgbec\nbad dafgc cgebd efbdcg cbedgfa cgabd bfeagd ab dgecba cbea | edcfabg fadcg dba gfcda\ndcefag bcagd ecfag gfacbde fgcaeb cfagb afb efbagd ecfb bf | afdecg ebagdf bcfe fb\naedgcbf dacefg bfgce dgfebc dbcfag fb cefgd gabce bfc fbed | acgdfb bfegc geabc edgfac\ndf aebdgcf gdcba fcbad cbdage bdcagf deagcf fdbg aefbc afd | cdfba df cebfa daf\nedcgf bfeadg bfdea bg gfbed gfba eafcdbg dcfaeb bge degbca | begcda aebfd fbag fedgc\ndbfgaec bcf edcb abfeg egfcb fgbdca gcafed bc bfcdge cdfeg | dgefcba cfgbde ecdgf cb\neafg gbdaf gcabd fecbda dgebcaf cdfebg adfgbe bgf gf bdfea | gcadb fage gaef afdceb\ndebagfc cbdfa gebc cfgaed gc aegfdb cdfebg ebgdf cfg bcdgf | eafbdcg dgfebca deafcg gadefc\nadg abced fbega dg abegcf fgde cfegadb gdabe aegfbd gdbacf | abecd afgbce gdabfc dag\nefacg fagb ebgdfca dfcabe gcdbea fa fbaceg cegfd geacb fca | edgfc fca fa cgeba\nfbadcg caebdg egfbd fdgcb gdbca fbc egdbacf facd fc egcbaf | acdgb egfbca gbceda gfcbd\nadfge bfea fb fagbdc bdf edfbag ecdbg fgbed dbgafce ecgadf | dbefg bdegf aegcdf fdeagc\nebgdc afecg dcfgeb gbf cfbd dbaecg bf ecbfg agfdecb dbgfea | afgbcde gefbc fb gcebdf\nfga efdab fgdcea bagc fbgcea gfebc abdcegf cbgfde gfbea ga | dgceaf gfa ag cbefg\ngead dfaebgc ag fgcead dacef fdecba adgcf fgcbea cga bgdfc | faced fgbcd bgfeac fagcbe\nbdfaceg gafbcd cfae daebg gecdf edcag cdegfa cga ecbgdf ac | gdeca agc face ac\ndbgcf eg badfe edgbcf gbe aefbgdc eabfcg dgfbac decg fgdeb | cfgbad abdfe eabdf egb\nfcbgad gfcadbe eadb bcadf cfedba bce be fecgd cgabef efdcb | fgcabe ebad edba fdcbga\ndf bedgf bcgedf bcaegd dcgf eacbdf ebcdg dfb agedfcb egfab | dcgf fdb edbgc egdacfb\nfacdb eca fceagd cfeba dcbe fbcead ec afdbgc acdgbfe begfa | fdeagc ce aec ec\necfbad gdabefc edb be bceg abdfg dacgef gbaed cedag cebdga | eb adgfb gcade egcb\nagedbf cegbda abf eafgc fb debafc gaebf eadfbcg begda bgfd | gacfe aegdb gaecf abdeg\nafbced ae efa cdebf ceabf eacgfbd gbafc caed gbefad bedgcf | dbcgfe fae acgbf cfbae\nfbeda cfaebg agbdcf gbaecdf dag gfecda gfabc gd bcgd dafgb | dafbecg dfeba dfaeb gfdcba\ndacfbe dcbfgae abd ba fdgeb cbfa egadcb edabf fdeca geacdf | gcbdaef dbefa bfac dabfe\ncgeafb fdce gafdbc edgca dbacegf efcagd cge baedg gdafc ce | bcfdega ce ec cefd\ndb eacgdf bgd gcbad afdcebg fcgbed dfab aebgc dfbcga fcagd | agcdf dbg gafcbd fecagd\nfdge cgd eadfcb gd gbfdc bcfga cbefadg cfbde deabcg gbcefd | dgfe acfebd fbcdg ecdagb\ngcefd fbd db efgdb cbgfea bead cfdbga begfa bfgdeac fgdeba | abcgfd dbf fabge fdb\nefgcd ac eafcbd befagc bdcafeg fegba acgb fca gaefc ebafdg | efcag bagc ca gebafd\ngb bgd bcdag adecb edbfag cdeagbf cfedab acfdg eagdbc cgeb | dcagb acfgedb dbg dbg\ngfdeac gfe fbea bacge bcgafe becgdfa bcgfe ef egcbad fbdcg | bfdgc gcfeba adgceb fge\nbcd dc dgfcba eagcdb cbgafed dgbfe dcebg feacbg cdea acbge | gbefd dbgfac gbdafc adce\nbd dbegf bgd geadbc fgecd afebg fbagcde bgcfde dbfc eacgdf | bd gdb db gcedf\nafdcgb cbeaf bedaf dfbge dab cbdfeag da fdaceb cgebfa deca | egfdb abd fdabce gcfedab\nbcdfaeg afbegc dcbae defb cdaeg dfacbe cbe eb fcgabd abcdf | ebc caedb caedg be\ndgcfeb dbefg ecfgd bge bafecg fgadce eb cdbe degcfba gadbf | be acegdbf cdgfbe abgfd\nab gfdbae dagfe agdfb bad facgde gfbdc dacfgeb aebg dbfcae | gabe bfgdae caedfb bcgeadf\ncfade agfce ebacdf fde cbdfga bcedfg decfbag dacbf adeb de | fbcda ecafd aefdcb faceg\ngbefda fdaegcb cbdag eacbd cea cefagd dbface efbc dbeaf ce | edbfa faecdb ebcf gdfceab\nfgbead gcdbe ba adfeg bgdae afeb cadgfb bad bcgefda fgedac | cdafbg feagd abdge gcfbade\ncbfe daceb decfag dbefca agdeb bc acfed egfbacd bafdgc cdb | dbc dbfaecg decaf gfcdab\neafdgc fcdb gbdae cb cgbad feacgb cgadfeb cdfbga abc fgdca | bafcdg cadfge baegd bfcgda\nfabged cfdbea badec abc efadb gacde fdbc cb fbagec eabcgfd | cdaeb cbdea bfaed aebcd\ngbc adfebc ecdagfb ecbgda geca eabdc dbgce edbfg gc abdgcf | gc fegadbc agec gc\ncdgfb cbedag dcgef gcefad ceg adgebf cdeagfb dfgea acfe ce | cdebga ec dcgef ce\nca gdfba gadcf dfecgb cfadeg eadc afbceg fac dafcgbe decgf | decgf edgfc bgdcafe aecgdf\nabdcge cae bfecg efcdba bfeda gcadfeb ac faebc fgbaed fcad | aebfc ca ca aebcf\nbcafg cafeb eb feadbg fcgade fcdbea dagecfb ecdb abe dfaec | fcegad cbfgeda bcdaegf fcadeb\nbecg gfbda gae egfcdab ge deacbf edcfag agcdbe gadeb bcaed | gdabe cegb dcbgae abdce\nadfebc fdbcga gecab gfbdae dg cdfg dbg fcadb bacdg gedcabf | egbac dbfaceg gd dg\nebcgfd agdbe fabd efcbga cfbgaed dgb fdgeab efgba db acdge | db cgead bgacdfe cgbefd\ndcfbga edbag ae abe fdgbe dgbca aced bfaceg gbacde adfcbge | gefdb cdea cdgba bfdge\ndbgcef acef cbe cbfedga decab acefdb fdbcga ce gbaed dbfac | ce fecabd daebc ebcdgf\ndb dcbaf egcfbad fbdeca ebdc egbfad cbagf bfd ecfagd aefdc | dagfbe cdeb cfbead fabcd\nfbagdc gafbc aecbd fbgeac fcabd fdgc afd fd gfbcdea gbeafd | fda eacdb dbegfa dgcf\ndgfeab fabcgd fg fgb cagfb dcgf dcabf cdfaeb fdgcbea bcaeg | adfbc dbgfca bcdafg gfb\nbaegc bd daefgc fadgc gfdb cbd ebacfd cdbgaf dgcabef cgbad | daebfcg fcbaed bd cgfabd\ncafbgde cdf fdgae beacd cf adfce cfeg agfcbd fdcaeg gdfaeb | ecdfgba efdca acdbe cdabe\nadfceb bg gdbeafc bgafe fcdbeg fegbca gfdae cafeb cbag beg | egafd efdcba gfacbe bcga\nfbgda cfgbda fgdeb ebag cedbaf edb eb gafecdb gcefd fgbead | eagb dgbfe decafb adfgb\ngefcbd eafdg cdbagef aegfc dg gbfcae dgf aefdb dgac adgcef | dgca feagbc dg agefcd\ndbfeca ebcaf cag gafceb gcabefd bfga ga adgcfe ecdgb aecgb | gdbcafe agc cga afbce\necdbfa cebdgaf efdbga bagfc gacbed cd cdfe dbfca ebdaf dac | daebf ecfd dfec cfed\nagcef bf afbced badecg edfgbc efgabdc fegbc cbged fbe bfdg | dgfb fbdeca dagceb gcbed\ndaefgb cbaeg cegd gea cfbgad bfcea eg fadecbg bedagc abdcg | aeg ge gefdab ge\ngfbca bac aebcfd dbcfag gdeacf bc gdafc dgbc ebafg ecbgdfa | cba dgcb cbdg eabfdc\ndbegc gacfbd cegfab gabefdc bcgfe ef bfagc feg fdgeab feac | abfdcg afec gdbfea fdgaceb\nbfcea cd cde dcfbeag gabed fegdca fdcb abgecf ebdca fabcde | efbac bfeagc cabdfe cfgabe`

function day8_1() {
  let t = Date.now()
  let data = inputData
  let total = 0
  data.split("\n").forEach(v => {total += v.split(" | ")[1].split(" ").filter(e => { return [2,3,4,7].includes(e.length) }).length})
  console.log(total)
  console.log("Time:" + (Date.now()-t) + "ms")
}

function day8_2() {
  let t = Date.now()
  let data = inputData
  let left = []
  let right = []
  
  data.split("\n").forEach(v => {
    let s = v.split(" | "); 
    left.push(s[0].split(" ").map(l => l.split("").sort())); 
    right.push(s[1].split(" ").map(r => r.split("").sort().join("")));
  })
    
  let leftSort = []
  left.forEach(l => leftSort.push(l.filter(function(e) { return [2,3,4,7].includes(e.length) })))
  let normFrequencies = {t: 8, lt: 6, rt: 8, m: 7, lb: 4, rb: 9, b: 7}
  let total = 0
    
  for(let i=0; i<left.length; i++) {
    let segments = {}
    let frequencies = {a:0, b:0, c:0, d:0, e:0, f:0, g:0}
    for(let j in left[i]) {
      for(let k in left[i][j]) frequencies[left[i][j][k]]++
    }
     
    let one = leftSort[i].find(function(e) { return e.length == 2 })
    let seven = leftSort[i].find(function(e) { return e.length == 3 })
    let four = leftSort[i].find(function(e) { return e.length == 4 })
    let eight = leftSort[i].find(function(e) { return e.length == 7 })
    segments.t = seven.find(function(e) { return !one.includes(e) })
    
    for(let f in normFrequencies) {
      for(let g in frequencies) {
        if(normFrequencies[f] == frequencies[g] && (f == "lb" || f == "rb" || f == "lt")){
          segments[f] = g
        }
      }
    }
    
    segments.rt = one.find(function(e) { return e != segments.rb } )
    segments.m = four.find(function(e) { return ![segments.lt, segments.rt, segments.rb].includes(e) })
    segments.b = eight.find(function(e) { return ![segments.t, segments.lt, segments.rt, segments.m, segments.lb, segments.rb].includes(e) })
    
    let two = [segments.t, segments.rt, segments.m, segments.lb, segments.b]
    let three = [segments.t, segments.rt, segments.m, segments.rb, segments.b]
    let five = [segments.t, segments.lt, segments.m, segments.rb, segments.b]
    let six = [segments.t, segments.lt, segments.m, segments.rb, segments.lb, segments.b]
    let nine = [segments.t, segments.lt, segments.rt, segments.m, segments.rb, segments.b]
    let zero = [segments.t, segments.lt, segments.rt, segments.lb, segments.rb, segments.b]
    
    let values = [zero, one, two, three, four, five, six, seven, eight, nine].map(v => v.sort().join(""))
    let num = ""
    for(let j=0; j<right[i].length; j++) {
      num += values.indexOf(right[i][j])
    }
    total += Number(num)
  }
  console.log(total)
  console.log("Time:" + (Date.now()-t) + "ms")
}
console.log("Day 8, Part 1")
day8_1()
console.log("Day 8, Part 2")
day8_2()
